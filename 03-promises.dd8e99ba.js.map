{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,GACPC,EAAOC,SAASC,cAAc,SAmBpC,SAASC,EAAWC,EAAUC,GACjBC,YAAW,KAWxB,IAAuBC,EAAUC,GAAVD,EAVLH,EAUeI,EAVLH,EAWnB,IAAII,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,IAEpCH,EAAQ,C,SAAEH,E,MAAUC,IAEtBG,EAAO,C,SAAEJ,E,MAAUC,GAAQ,KAfxBM,MAAK,EAACP,SAAEA,EAAQC,MAAEA,MACjBX,EAAAkB,OAAOC,KAAK,uBAAqBT,QAAiBC,MAAU,IAE7DS,OAAM,EAACV,SAAEA,EAAQC,MAAEA,MAClBX,EAAAkB,OAAOG,QAAQ,sBAAoBX,QAAeC,MAAU,GAC5D,GACHH,E,CA1BLL,EAAKmB,iBAAiB,UAEtB,SAAsBC,GACpBA,EAAMC,iBACW,IAAIC,SAASF,EAAMG,eAC3BC,SAAQ,CAACC,EAAKC,KACrB3B,EAAK2B,GAAQC,OAAOF,EAAI,IAE1BzB,EAAK4B,QACL,IAAK,IAAIC,EAAI,EAAGA,GAAK9B,EAAK+B,OAAQD,GAAK,EAAG,CACxC,IAAItB,EAAWsB,EACXrB,EAAQT,EAAKS,MACjBL,EAAWI,EAAUC,GACrBT,EAAKS,OAAST,EAAKgC,I","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from \"notiflix/build/notiflix-notify-aio\";\n\nconst refs = {};\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const formData = new FormData(event.currentTarget);\n  formData.forEach((val, name) => {\n    refs[name] = Number(val);\n  });\n  form.reset();\n  for (let i = 1; i <= refs.amount; i += 1) {\n    let position = i;\n    let delay = refs.delay;\n    setPromise(position, delay);\n    refs.delay += refs.step;\n  }\n}\n\nfunction setPromise(position, delay) {\n  const id = setTimeout(() => {\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notify.info(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n  }, delay);\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    }\n    reject({ position, delay });\n  });\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","$47d4ff9957288465$var$form","document","querySelector","$47d4ff9957288465$var$setPromise","position1","delay1","setTimeout","position","delay","Promise","resolve","reject","Math","random","then","Notify","info","catch","failure","addEventListener","event","preventDefault","FormData","currentTarget","forEach","val","name","Number","reset","i","amount","step"],"version":3,"file":"03-promises.dd8e99ba.js.map"}